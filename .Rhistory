"sia05",
"sia06_sex",
"sia07",
"sia08",
"sia08_other",
"child_date_of_birth",
"sia12a_calc1",
"sia12a_calc2",
"sia12",
"sia12a",
"sia12extra_polio_calc",
"sia12extra",
"sia13",
"sia14",
"sia15",
"sia15_other",
"sia16",
"sia17",
"sia17_other",
"sia18",
"sia20",
"sia20_other",
"sia21",
"sia22",
"sia22_other",
"sia23",
"submissions_id"
)
)
names(survey) <- c(
"sia04",
"sia03",
"sia05",
"sia06",
"sia07",
"sia08",
"sia08_other",
"dob",
"age_days",
"tcv_elig",
"sia12",
"sia12a",
"polio_elig",
"sia12extra",
"sia13",
"sia14",
"sia15",
"sia15_other",
"sia16",
"sia17",
"sia17_other",
"sia18",
"sia20",
"sia20_other",
"sia21",
"sia22",
"sia22_other",
"sia23",
"id"
)
survey_hh <- hh_entries %>% select(
"id",
"enumerator_name",
"survey_date",
"survey_time",
"cluster_code",
"province",
"division",
"district",
"hh02"
) %>%
right_join(survey) %>%
left_join(hh_entries %>% select(id, supervisor_info))
survey_hh$dob <- as.Date(gsub(survey_hh$dob, pattern = "T.*", replacement = ""))
survey_hh$survey_date <- as.Date(survey_hh$survey_date)
write.csv(
survey_hh,
'who-survey-dash/Data/survey_list.csv',
row.names = F,
na = ""
)
View(survey_hh)
View(survey_hh)
coverage_enum <- survey_hh %>%
group_by(province, district, supervisor_info) %>%
summarise(
n = n(),
elig_tcv = sum(tcv_elig == "1", na.rm = T),
tcv = sum(sia12 == "1", na.rm = T) / sum(tcv_elig == "1", na.rm = T),
elig_polio = sum(polio_elig == "1", na.rm = T),
polio = sum(sia12extra == "1", na.rm = T) / sum(polio_elig == "1", na.rm = T)
)
View(coverage_enum)
View(coverage_enum)
source("~/Desktop/R-Projects/WHO survey/read.r")
source("~/Desktop/R-Projects/WHO survey/roster.r")
source("~/Desktop/R-Projects/WHO survey/survey.r")
source("~/Desktop/R-Projects/WHO survey/summarise.r")
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
source("~/Desktop/R-Projects/WHO survey/read.r")
source("~/Desktop/R-Projects/WHO survey/roster.r")
source("~/Desktop/R-Projects/WHO survey/survey.r")
source("~/Desktop/R-Projects/WHO survey/summarise.r")
source("~/Desktop/R-Projects/WHO survey/read.r")
source("~/Desktop/R-Projects/WHO survey/roster.r")
source("~/Desktop/R-Projects/WHO survey/survey.r")
source("~/Desktop/R-Projects/WHO survey/summarise.r")
source("~/Desktop/R-Projects/WHO survey/hh_monitor.r")
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
source("~/Desktop/R-Projects/WHO survey/read.r")
source("~/Desktop/R-Projects/WHO survey/roster.r")
source("~/Desktop/R-Projects/WHO survey/survey.r")
source("~/Desktop/R-Projects/WHO survey/summarise.r")
source("~/Desktop/R-Projects/WHO survey/hh_monitor.r")
source("~/Desktop/R-Projects/WHO survey/read.r")
source("~/Desktop/R-Projects/WHO survey/roster.r")
source("~/Desktop/R-Projects/WHO survey/survey.r")
source("~/Desktop/R-Projects/WHO survey/summarise.r")
source("~/Desktop/R-Projects/WHO survey/hh_monitor.r")
survey_hh$age_days
names(survey_hh)
source("~/Desktop/R-Projects/WHO survey/read.r")
source("~/Desktop/R-Projects/WHO survey/read.r")
names(survey)
source("~/Desktop/R-Projects/WHO survey/roster.r")
source("~/Desktop/R-Projects/WHO survey/survey.r")
source("~/Desktop/R-Projects/WHO survey/summarise.r")
source("~/Desktop/R-Projects/WHO survey/hh_monitor.r")
hist(survey_hh$age_days)
hist(as.numeric(survey_hh$age_days))
5000/365
5600/365
as.numeric(survey_hh$age_days)/365.25
max(as.numeric(survey_hh$age_days)/365.25)
max(as.numeric(survey_hh$age_days)/365.25, na.rm = T)
sort(as.numeric(survey_hh$age_days)/365.25, na.rm = T)
sort(as.numeric(survey_hh$age_days)/365.25)
age_years <- floor(sort(as.numeric(survey_hh$age_days)/365.25))
table(age_years)
age_years[age_years > 15]
age_years <- (sort(as.numeric(survey_hh$age_days)/365.25))
age_years[age_years > 15]
age_years <- floor(sort(as.numeric(survey_hh$age_days)/365.25))
hist(age_years)
hh_monitor_filt <- hh_monitor %>%
filter(check_tcv | check_polio | no_cov_tcv | no_cov_polio)
hh_monitor_cool <- hh_monitor %>%
filter(!check_tcv & !check_polio & !no_cov_tcv & !no_cov_polio)
write.csv(
hh_monitor_filt,
'who-survey-dash/Data/hh_monitor_filt.csv',
row.names = F,
na = ""
)
survey$sia12a_calc1
source("~/Desktop/R-Projects/WHO survey/read.r")
source("~/Desktop/R-Projects/WHO survey/roster.r")
survey$age_years <- floor(as.numeric(survey$sia12a_calc1)/365.25)
survey$age_years[survey$age_years == 15] <- 14
survey$age_years <- floor(as.numeric(survey$sia12a_calc1)/365.25)
survey$age_years[survey$age_years == 15] <- 14
survey <- survey %>% select(
c(
"sia04_name",
"sia03",
"sia05",
"sia06_sex",
"sia07",
"sia08",
"sia08_other",
"child_date_of_birth",
"sia12a_calc1",
"age_years",
"sia12a_calc2",
"sia12",
"sia12a",
"sia12extra_polio_calc",
"sia12extra",
"sia13",
"sia14",
"sia15",
"sia15_other",
"sia16",
"sia17",
"sia17_other",
"sia18",
"sia20",
"sia20_other",
"sia21",
"sia22",
"sia22_other",
"sia23",
"submissions_id"
)
)
names(survey) <- c(
"sia04",
"sia03",
"sia05",
"sia06",
"sia07",
"sia08",
"sia08_other",
"dob",
"age_days",
"age_years",
"tcv_elig",
"sia12",
"sia12a",
"polio_elig",
"sia12extra",
"sia13",
"sia14",
"sia15",
"sia15_other",
"sia16",
"sia17",
"sia17_other",
"sia18",
"sia20",
"sia20_other",
"sia21",
"sia22",
"sia22_other",
"sia23",
"id"
)
survey_hh <- hh_entries %>% select(
"id",
"enumerator_name",
"survey_date",
"survey_time",
"cluster_code",
"province",
"division",
"district",
"hh02"
) %>%
right_join(survey) %>%
left_join(hh_entries %>% select(id, supervisor_info))
survey_hh$dob <- as.Date(gsub(survey_hh$dob, pattern = "T.*", replacement = ""))
survey_hh$survey_date <- as.Date(survey_hh$survey_date)
write.csv(
survey_hh,
'who-survey-dash/Data/survey_list.csv',
row.names = F,
na = ""
)
table(survey_hh$age_years)
data.frame(table(survey_hh$age_years))
library(ggplot2)
year_dist <- data.frame(table(survey_hh$age_years))
p <- ggplot(data = year_dist, aes(x = Var1, y = Freq)) +
geom_bar(stat = "identity", fill = "steelblue") +
theme_minimal()
p
p <- ggplot(data = year_dist, aes(x = Var1, y = Freq)) +
geom_bar(stat = "identity", fill = "steelblue") +
theme_bw()
p
p <- ggplot(data = year_dist, aes(x = Var1, y = Freq)) +
geom_bar(stat = "identity", fill = "steelblue") +
theme_light()
p
p <- ggplot(data = year_dist, aes(x = Var1, y = Freq)) +
geom_bar(stat = "identity", fill = "steelblue") +
theme_grey()
p
p <- ggplot(data = year_dist, aes(x = Var1, y = Freq)) +
geom_bar(stat = "identity", fill = "purple") +
theme_grey()
p
p <- ggplot(data = year_dist, aes(x = Var1, y = Freq)) +
geom_bar(stat = "identity", fill = "#BBDEFB") +
theme_grey()
p
p <- ggplot(data = year_dist, aes(x = Var1, y = Freq)) +
geom_bar(stat = "identity", fill = "#0D47A1") +
theme_grey()
p
p <- ggplot(data = year_dist, aes(x = Var1, y = Freq)) +
geom_bar(stat = "identity", fill = "steelblue") +
theme_grey()
p
library(ggthemes)
library(ggthemes)
p <- ggplot(data = year_dist, aes(x = Var1, y = Freq)) +
geom_bar(stat = "identity", fill = "steelblue") +
theme_tufte()
p
p <- ggplot(data = year_dist, aes(x = Var1, y = Freq)) +
geom_bar(stat = "identity", fill = "steelblue") +
theme_solid()
p
p <- ggplot(data = year_dist, aes(x = Var1, y = Freq)) +
geom_bar(stat = "identity", fill = "steelblue") +
theme_wsj()
p
p <- ggplot(data = year_dist, aes(x = Var1, y = Freq)) +
geom_bar(stat = "identity", fill = "steelblue") +
theme_hc()
p
p <- ggplot(data = year_dist, aes(x = Var1, y = Freq)) +
geom_bar(stat = "identity", fill = "steelblue", width = 0.5) +
theme_hc()
p
p <- ggplot(data = year_dist, aes(x = Var1, y = Freq)) +
geom_bar(stat = "identity", fill = "steelblue", width = 0.8) +
theme_hc()
p
p <- ggplot(data = year_dist, aes(x = Var1, y = Freq)) +
geom_bar(stat = "identity", fill = "steelblue", width = 0.8) +
theme_hc() + labs(x = "Age (completed years)", y = "Frequency")
p
p <- ggplot(data = year_dist, aes(x = Var1, y = Freq)) +
geom_bar(stat = "identity", fill = "steelblue", width = 0.8) +
theme_hc() + labs(x = "Age (completed years)", y = "Frequency") + theme(
plot.margin =  margin(t=20,b=20,r=20,l=20)
)
p
p <- ggplot(data = year_dist, aes(x = Var1, y = Freq)) +
geom_bar(stat = "identity", fill = "steelblue", width = 0.8) +
theme_hc() + labs(x = "Age (completed years)", y = "Frequency") + theme(
plot.margin =  margin(t=30,b=20,r=15,l=25)
)
p
p <- ggplot(data = year_dist, aes(x = Var1, y = Freq)) +
geom_bar(stat = "identity", fill = "steelblue", width = 0.8) +
theme_hc() + labs(x = "Age (completed years)", y = "Frequency") + theme(
plot.margin =  margin(t=30,b=20,r=15,l=25)
) + ggtitle("Distribution of children's age")
p
p <- ggplot(data = year_dist, aes(x = Var1, y = Freq)) +
geom_bar(stat = "identity", fill = "steelblue", width = 0.8) +
theme_hc() + labs(x = "Age (completed years)", y = "Frequency") + theme(
plot.margin =  margin(t=30,b=20,r=15,l=25),
axis.text = element_text(size = 5)
) + ggtitle("Distribution of children's age")
p
p <- ggplot(data = year_dist, aes(x = Var1, y = Freq)) +
geom_bar(stat = "identity", fill = "steelblue", width = 0.8) +
theme_hc() + labs(x = "Age (completed years)", y = "Frequency") + theme(
plot.margin =  margin(t=30,b=20,r=15,l=25),
axis.text = element_text(size = 2)
) + ggtitle("Distribution of children's age")
p
p <- ggplot(data = year_dist, aes(x = Var1, y = Freq)) +
geom_bar(stat = "identity", fill = "steelblue", width = 0.8) +
theme_hc() + labs(x = "Age (completed years)", y = "Frequency") + theme(
plot.margin =  margin(t=30,b=20,r=15,l=25),
axis.text = element_text(size = 5)
) + ggtitle("Distribution of children's age")
p
p <- ggplot(data = year_dist, aes(x = Var1, y = Freq)) +
geom_bar(stat = "identity", fill = "steelblue", width = 0.8) +
theme_hc() + labs(x = "Age (completed years)", y = "Frequency") + theme(
plot.margin =  margin(t=30,b=20,r=15,l=25),
axis.text = element_text(size = 15)
) + ggtitle("Distribution of children's age")
p
p <- ggplot(data = year_dist, aes(x = Var1, y = Freq)) +
geom_bar(stat = "identity", fill = "steelblue", width = 0.8) +
theme_hc() + labs(x = "Age (completed years)", y = "Frequency") + theme(
plot.margin =  margin(t=30,b=20,r=15,l=25),
axis.text = element_text(size = 10)
) + ggtitle("Distribution of children's age")
p
p <- ggplot(data = year_dist, aes(x = Var1, y = Freq)) +
geom_bar(stat = "identity", fill = "steelblue", width = 0.8) +
theme_hc() + labs(x = "Age (completed years)", y = "Frequency") + theme(
plot.margin =  margin(t=30,b=20,r=15,l=25),
axis.text = element_text(size = 8)
) + ggtitle("Distribution of children's age")
p
p <- ggplot(data = year_dist, aes(x = Var1, y = Freq)) +
geom_bar(stat = "identity", fill = "steelblue", width = 0.8) +
theme_hc() + labs(x = "Age (completed years)", y = "Frequency") + theme(
plot.margin =  margin(t=30,b=20,r=15,l=25),
axis.text = element_text(size = 8),
axis.title = element_text(size = 10)
) + ggtitle("Distribution of children's age")
p
p <- ggplot(data = year_dist, aes(x = Var1, y = Freq)) +
geom_bar(stat = "identity", fill = "steelblue", width = 0.9) +
theme_hc() + labs(x = "Age (completed years)", y = "Frequency") + theme(
plot.margin =  margin(t=30,b=20,r=15,l=25),
axis.text = element_text(size = 8),
axis.title = element_text(size = 10)
) + ggtitle("Distribution of children's age")
p
p <- ggplot(data = year_dist, aes(x = Var1, y = Freq)) +
geom_bar(stat = "identity", fill = "steelblue", width = 0.85) +
theme_hc() + labs(x = "Age (completed years)", y = "Frequency") + theme(
plot.margin =  margin(t=30,b=20,r=15,l=25),
axis.text = element_text(size = 8),
axis.title = element_text(size = 10)
) + ggtitle("Distribution of children's age")
p
p <- ggplot(data = year_dist, aes(x = Var1, y = Freq)) +
geom_bar(stat = "identity", fill = "steelblue", width = 0.85) +
theme_hc() + labs(x = "Age (completed years)", y = "Frequency") + theme(
plot.margin =  margin(t=30,b=20,r=15,l=30),
axis.text = element_text(size = 8),
axis.title = element_text(size = 10)
) + ggtitle("Distribution of children's age")
p
runApp('who-survey-dash')
source("~/Desktop/R-Projects/WHO survey/read.r")
source("~/Desktop/R-Projects/WHO survey/roster.r")
source("~/Desktop/R-Projects/WHO survey/survey.r")
source("~/Desktop/R-Projects/WHO survey/summarise.r")
source("~/Desktop/R-Projects/WHO survey/hh_monitor.r")
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
?updateSelectInput
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
hh_list
hh_list$province
unique(hh_list$province)
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
source("~/Desktop/R-Projects/WHO survey/read.r")
source("~/Desktop/R-Projects/WHO survey/roster.r")
source("~/Desktop/R-Projects/WHO survey/survey.r")
source("~/Desktop/R-Projects/WHO survey/summarise.r")
source("~/Desktop/R-Projects/WHO survey/hh_monitor.r")
runApp('who-survey-dash')
survey_hh_summ <- survey_hh %>%
group_by(cluster_code, province, division, district, hh02) %>%
summarise(
n_children = n(),
elig_tcv = sum(tcv_elig == "1", na.rm = T),
elig_polio = sum(polio_elig == "1", na.rm = T)
) %>% left_join(roster_hh_summ)
View(survey_hh_summ)
View(survey_hh_summ)
write.csv(
survey_hh_summ,
'who-survey-dash/Data/survey_hh_summ.csv',
row.names = F,
na = ""
)
View(survey_hh_summ)
View(survey_hh_summ)
source("~/Desktop/R-Projects/WHO survey/read.r")
source("~/Desktop/R-Projects/WHO survey/roster.r")
source("~/Desktop/R-Projects/WHO survey/survey.r")
source("~/Desktop/R-Projects/WHO survey/summarise.r")
source("~/Desktop/R-Projects/WHO survey/hh_monitor.r")
runApp('who-survey-dash')
runApp('who-survey-dash')
survey_hh_summ <- survey_hh %>%
group_by(cluster_code, province, division, district, hh02) %>%
summarise(
n_children = n(),
elig_tcv = sum(tcv_elig == "1", na.rm = T),
elig_polio = sum(polio_elig == "1", na.rm = T)
) %>% left_join(roster_hh_summ)
write.csv(
survey_hh_summ,
'who-survey-dash/Data/survey_hh_summ.csv',
row.names = F,
na = ""
)
source("~/Desktop/R-Projects/WHO survey/read.r")
source("~/Desktop/R-Projects/WHO survey/roster.r")
source("~/Desktop/R-Projects/WHO survey/survey.r")
source("~/Desktop/R-Projects/WHO survey/summarise.r")
source("~/Desktop/R-Projects/WHO survey/hh_monitor.r")
runApp('who-survey-dash')
source("~/Desktop/R-Projects/WHO survey/summarise.r")
source("~/Desktop/R-Projects/WHO survey/hh_monitor.r")
runApp('who-survey-dash')
survey_hh_summ <- survey_hh %>%
group_by(cluster_code, province, division, district, hh02) %>%
summarise(
n_children = n(),
elig_tcv = sum(tcv_elig == "1", na.rm = T),
elig_polio = sum(polio_elig == "1", na.rm = T)
) %>% left_join(roster_hh_summ)
runApp('who-survey-dash')
source("~/Desktop/R-Projects/WHO survey/read.r")
source("~/Desktop/R-Projects/WHO survey/roster.r")
source("~/Desktop/R-Projects/WHO survey/survey.r")
source("~/Desktop/R-Projects/WHO survey/summarise.r")
source("~/Desktop/R-Projects/WHO survey/hh_monitor.r")
runApp('who-survey-dash')
