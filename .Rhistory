source("~/Desktop/R-Projects/WHO survey/roster.r")
View(roster)
View(roster)
View(roster)
View(roster)
roster$roster_type
table(roster$roster_type)
View(roster_adults_hh)
View(roster_adults_hh)
View(roster_children)
View(roster_children)
roster_adults_hh <- hh_entries %>% right_join(roster_adults)
View(roster_children_hh)
View(roster_children_hh)
View(roster_adults_hh)
View(roster_adults_hh)
source("~/Desktop/R-Projects/WHO survey/read.r")
source("~/Desktop/R-Projects/WHO survey/roster.r")
View(roster)
View(roster)
names(survey)
View(survey)
View(survey)
survey$sia12
survey$sia12 == "1"
sum(survey$sia12 == "1")
sum(survey$sia12 == "1", na.rm = T)
sum(survey$sia12extra_polio_calc == "1", na.rm = T)
sum(survey$sia12a_calc2 == "1", na.rm = T)
2336/2603
survey$sia12extra
names(survey)
survey <- survey %>% select(
c(
"sia04_name",
"sia03",
"sia05",
"sia06_sex",
"sia07",
"sia08",
"sia08_other",
"child_date_of_birth",
"sia12a_calc1",
"sia12a_calc2",
"sia12",
"sia12a",
"sia12extra_polio_calc",
"sia12extra",
"sia13",
"sia14",
"sia15",
"sia15_other",
"sia16",
"sia17",
"sia17_other",
"sia18",
"sia20",
"sia20_other",
"sia21",
"sia22",
"sia22_other",
"sia23",
"submissions_id"
)
)
names(survey) <- c(
"sia04",
"sia03",
"sia05",
"sia06",
"sia07",
"sia08",
"sia08_other",
"dob",
"sia12a_calc1",
"tcv_elig",
"sia12",
"sia12a",
"polio_elig",
"sia12extra",
"sia13",
"sia14",
"sia15",
"sia15_other",
"sia16",
"sia17",
"sia17_other",
"sia18",
"sia20",
"sia20_other",
"sia21",
"sia22",
"sia22_other",
"sia23",
"submissions_id"
)
View(survey)
View(survey)
names(survey) <- c(
"sia04",
"sia03",
"sia05",
"sia06",
"sia07",
"sia08",
"sia08_other",
"dob",
"age_days",
"tcv_elig",
"sia12",
"sia12a",
"polio_elig",
"sia12extra",
"sia13",
"sia14",
"sia15",
"sia15_other",
"sia16",
"sia17",
"sia17_other",
"sia18",
"sia20",
"sia20_other",
"sia21",
"sia22",
"sia22_other",
"sia23",
"submissions_id"
)
survey <- survey %>% select(
c(
"sia04_name",
"sia03",
"sia05",
"sia06_sex",
"sia07",
"sia08",
"sia08_other",
"child_date_of_birth",
"sia12a_calc1",
"sia12a_calc2",
"sia12",
"sia12a",
"sia12extra_polio_calc",
"sia12extra",
"sia13",
"sia14",
"sia15",
"sia15_other",
"sia16",
"sia17",
"sia17_other",
"sia18",
"sia20",
"sia20_other",
"sia21",
"sia22",
"sia22_other",
"sia23",
"submissions_id"
)
)
names(survey) <- c(
"sia04",
"sia03",
"sia05",
"sia06",
"sia07",
"sia08",
"sia08_other",
"dob",
"age_days",
"tcv_elig",
"sia12",
"sia12a",
"polio_elig",
"sia12extra",
"sia13",
"sia14",
"sia15",
"sia15_other",
"sia16",
"sia17",
"sia17_other",
"sia18",
"sia20",
"sia20_other",
"sia21",
"sia22",
"sia22_other",
"sia23",
"submissions_id"
)
names(hh_entries)
names(survey) <- c(
"sia04",
"sia03",
"sia05",
"sia06",
"sia07",
"sia08",
"sia08_other",
"dob",
"age_days",
"tcv_elig",
"sia12",
"sia12a",
"polio_elig",
"sia12extra",
"sia13",
"sia14",
"sia15",
"sia15_other",
"sia16",
"sia17",
"sia17_other",
"sia18",
"sia20",
"sia20_other",
"sia21",
"sia22",
"sia22_other",
"sia23",
"id"
)
survey_hh <- hh_entries %>% select(
"id",
"enumerator_name",
"survey_date",
"survey_time",
"cluster_code",
"province",
"division",
"district",
"hh02"
) %>% right_join(survey)
View(survey_hh)
View(survey_hh)
survey_hh$dob
gsub(survey_hh$dob, pattern = "T.*", replacement = "")
survey$dob <- as.Date(gsub(survey_hh$dob, pattern = "T.*", replacement = ""))
survey$dob <- as.Date(gsub(survey_hh$dob, pattern = "T.*", replacement = ""))
View(survey_hh)
View(survey_hh)
survey_hh$dob <- as.Date(gsub(survey_hh$dob, pattern = "T.*", replacement = ""))
survey_hh$dob <- as.Date(gsub(survey_hh$dob, pattern = "T.*", replacement = ""))
survey_hh$survey_date <- as.Date(survey_hh$survey_date)
survey_hh$dob <- as.Date(gsub(survey_hh$dob, pattern = "T.*", replacement = ""))
survey_hh$survey_date <- as.Date(survey_hh$survey_date)
survey_hh$survey_time <- as.POSIXct(survey_hh$survey_time)
survey_hh$survey_time
View(survey_hh)
View(survey_hh)
View(hh_entries)
View(hh_entries)
View(survey)
View(survey)
source("~/Desktop/R-Projects/WHO survey/read.r")
View(survey)
View(survey)
source("~/Desktop/R-Projects/WHO survey/read.r")
source("~/Desktop/R-Projects/WHO survey/roster.r")
source("~/Desktop/R-Projects/WHO survey/survey.r")
View(survey_hh)
View(survey_hh)
survey_summ <- survey_hh %>%
group_by(cluster_code, province, division, district) %>%
summarise(
n_hh = length(unique(hh02))
n_children = n()
survey_summ <- survey_hh %>%
group_by(cluster_code, province, division, district) %>%
summarise(
n_hh = length(unique(hh02)),
n_children = n()
)
View(survey_summ)
View(survey_summ)
survey_summ <- survey_hh %>%
group_by(cluster_code, province, division, district) %>%
summarise(
n_hh = length(unique(hh02)),
n_children = n()
)
View(roster_children)
View(roster_children)
View(roster_children_hh)
View(roster_children_hh)
roster %>%
group_by(cluster_code) %>%
summarise(
n_hh = length(unique(hh02))
)
roster_hh_summ <- roster %>%
group_by(cluster_code) %>%
summarise(
n_hh = length(unique(hh02))
)
roster_hh_summ <- roster %>%
group_by(cluster_code) %>%
summarise(
n_hh = length(unique(hh02))
)
survey_summ <- survey_hh %>%
group_by(cluster_code, province, division, district) %>%
summarise(
n_hh_child = length(unique(hh02)),
n_children = n()
) %>% left_join(roster_hh_summ)
View(survey_summ)
View(survey_summ)
names(survey_summ)
survey_summ <- survey_summ %>% select(
c(
"cluster_code",
"province",
"division",
"district",
"n_hh",
"n_hh_child",
"n_children"
)
)
survey_summ <- survey_summ %>% select(
c(
"cluster_code",
"province",
"division",
"district",
"n_hh",
"n_hh_child",
"n_children"
)
)
survey_hh %>% group_by(district) %>% summarise(n = n())
write.csv(
survey_summ,
'who-survey-dash/Data/survey_summ.csv',
row.names = F,
na = ""
)
View(survey_summ)
View(survey_summ)
shiny::runApp('who-survey-dash')
runApp('who-survey-dash')
timeUpdated <- readRDS('timeUpdated.RDS')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
?formattable
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
?div
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
source("~/Desktop/R-Projects/WHO survey/read.r")
source("~/Desktop/R-Projects/WHO survey/survey.r")
source("~/Desktop/R-Projects/WHO survey/roster.r")
shiny::runApp('who-survey-dash')
source("~/Desktop/R-Projects/WHO survey/read.r")
source("~/Desktop/R-Projects/WHO survey/survey.r")
source("~/Desktop/R-Projects/WHO survey/roster.r")
source("~/Desktop/R-Projects/WHO survey/summarise.r")
source("~/Desktop/R-Projects/WHO survey/read.r")
source("~/Desktop/R-Projects/WHO survey/roster.r")
source("~/Desktop/R-Projects/WHO survey/survey.r")
source("~/Desktop/R-Projects/WHO survey/summarise.r")
View(survey_hh)
View(survey_hh)
survey_hh$tcv_elig
sum(survey_hh$sia12 == "1") /sum(survey_hh$tcv_elig == "1")
sum(survey_hh$sia12 == "1", na.rm = T) /sum(survey_hh$tcv_elig == "1", na.rm = T)
sum(survey_hh$sia12extra == "1", na.rm = T) /sum(survey_hh$polio_elig == "1", na.rm = T)
survey_hh %>%
group_by(district) %>%
summarise(
tcv = sum(sia12 == "1", na.rm = T) /sum(tcv_elig == "1", na.rm = T),
polio = sum(sia12extra == "1", na.rm = T) /sum(polio_elig == "1", na.rm = T)
)
survey_hh %>%
group_by(district) %>%
summarise(
count = n()
tcv = sum(sia12 == "1", na.rm = T) /sum(tcv_elig == "1", na.rm = T),
survey_hh %>%
group_by(district) %>%
summarise(
count = n(),
tcv = sum(sia12 == "1", na.rm = T) /sum(tcv_elig == "1", na.rm = T),
polio = sum(sia12extra == "1", na.rm = T) /sum(polio_elig == "1", na.rm = T)
)
coverage_dist <- survey_hh %>%
group_by(district) %>%
summarise(
elig_tcv = sum(tcv_elig == "1", na.rm = T),
tcv = sum(sia12 == "1", na.rm = T) /sum(tcv_elig == "1", na.rm = T),
elig_polio = sum(polio_elig == "1", na.rm = T),
polio = sum(sia12extra == "1", na.rm = T) /sum(polio_elig == "1", na.rm = T)
)
View(coverage_dist)
View(coverage_dist)
coverage_dist <- survey_hh %>%
group_by(province, district) %>%
summarise(
elig_tcv = sum(tcv_elig == "1", na.rm = T),
tcv = sum(sia12 == "1", na.rm = T) /sum(tcv_elig == "1", na.rm = T),
elig_polio = sum(polio_elig == "1", na.rm = T),
polio = sum(sia12extra == "1", na.rm = T) /sum(polio_elig == "1", na.rm = T)
)
coverage_prov <- survey_hh %>%
group_by(province) %>%
summarise(
elig_tcv = sum(tcv_elig == "1", na.rm = T),
tcv = sum(sia12 == "1", na.rm = T) /sum(tcv_elig == "1", na.rm = T),
elig_polio = sum(polio_elig == "1", na.rm = T),
polio = sum(sia12extra == "1", na.rm = T) /sum(polio_elig == "1", na.rm = T)
)
View(coverage_prov)
View(coverage_prov)
global_coverage <- list()
global_coverage <- list()
global_coverage[['tcv']] <- sum(survey_hh$sia12 == "1", na.rm = T) /sum(survey_hh$tcv_elig == "1", na.rm = T)
write.csv(
coverage_dist,
'who-survey-dash/Data/coverage_dist.csv',
row.names = F,
na = ""
)
write.csv(
coverage_prov,
'who-survey-dash/Data/coverage_prov.csv',
row.names = F,
na = ""
)
saveRDS(global_coverage, file = 'who-survey-dash/Data/coverage_global.rds')
View(coverage_prov)
View(coverage_prov)
?percent
?formattable::as.datatable()
shiny::runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
View(coverage_prov)
View(coverage_prov)
?read_csv
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
runApp('who-survey-dash')
global_coverage
global_coverage[['polio']] <-
sum(survey_hh$sia12extra == "1", na.rm = T) / sum(survey_hh$polio_elig == "1", na.rm = T)
global_coverage
runApp('who-survey-dash')
source("~/Desktop/R-Projects/WHO survey/read.r")
source("~/Desktop/R-Projects/WHO survey/roster.r")
source("~/Desktop/R-Projects/WHO survey/survey.r")
source("~/Desktop/R-Projects/WHO survey/summarise.r")
runApp('who-survey-dash')
runApp('who-survey-dash')
source("~/Desktop/R-Projects/WHO survey/read.r")
source("~/Desktop/R-Projects/WHO survey/roster.r")
source("~/Desktop/R-Projects/WHO survey/survey.r")
source("~/Desktop/R-Projects/WHO survey/summarise.r")
runApp('who-survey-dash')
source("~/Desktop/R-Projects/WHO survey/read.r")
source("~/Desktop/R-Projects/WHO survey/roster.r")
source("~/Desktop/R-Projects/WHO survey/survey.r")
source("~/Desktop/R-Projects/WHO survey/summarise.r")
runApp('who-survey-dash')
source("~/Desktop/R-Projects/WHO survey/read.r")
source("~/Desktop/R-Projects/WHO survey/roster.r")
source("~/Desktop/R-Projects/WHO survey/survey.r")
source("~/Desktop/R-Projects/WHO survey/summarise.r")
source("~/Desktop/R-Projects/WHO survey/read.r")
source("~/Desktop/R-Projects/WHO survey/roster.r")
source("~/Desktop/R-Projects/WHO survey/survey.r")
source("~/Desktop/R-Projects/WHO survey/summarise.r")
